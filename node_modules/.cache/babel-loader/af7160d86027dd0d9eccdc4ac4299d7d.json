{"remainingRequest":"D:\\work\\myself\\DuYi\\前端 level one\\vue从入门到实战\\05.搭建工程\\my-site\\node_modules\\babel-loader\\lib\\index.js!D:\\work\\myself\\DuYi\\前端 level one\\vue从入门到实战\\05.搭建工程\\my-site\\src\\store\\setting.js","dependencies":[{"path":"D:\\work\\myself\\DuYi\\前端 level one\\vue从入门到实战\\05.搭建工程\\my-site\\src\\store\\setting.js","mtime":1677941633130},{"path":"D:\\work\\myself\\DuYi\\前端 level one\\vue从入门到实战\\05.搭建工程\\my-site\\babel.config.js","mtime":1672384161687},{"path":"D:\\work\\myself\\DuYi\\前端 level one\\vue从入门到实战\\05.搭建工程\\my-site\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\work\\myself\\DuYi\\前端 level one\\vue从入门到实战\\05.搭建工程\\my-site\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgZ2V0U2V0dGluZyB9IGZyb20gIkAvYXBpL3NldHRpbmciOwppbXBvcnQgeyB0aXRsZUNvbnRyb2xsZXIgfSBmcm9tICIuLi91dGlscyI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lc3BhY2VkOiB0cnVlLAogIHN0YXRlOiB7CiAgICBsb2FkaW5nOiBmYWxzZSwKICAgIGRhdGE6IG51bGwKICB9LAogIG11dGF0aW9uczogewogICAgc2V0TG9hZGluZyhzdGF0ZSwgcGF5bG9hZCkgewogICAgICBzdGF0ZS5sb2FkaW5nID0gcGF5bG9hZDsKICAgIH0sCiAgICBzZXREYXRhKHN0YXRlLCBwYXlsb2FkKSB7CiAgICAgIHN0YXRlLmRhdGEgPSBwYXlsb2FkOwogICAgfQogIH0sCiAgYWN0aW9uczogewogICAgYXN5bmMgZmV0Y2hTZXR0aW5nKGN0eCkgewogICAgICBjdHguY29tbWl0KCJzZXRMb2FkaW5nIiwgdHJ1ZSk7CiAgICAgIGNvbnN0IHJlc3AgPSBhd2FpdCBnZXRTZXR0aW5nKCk7CiAgICAgIGN0eC5jb21taXQoInNldERhdGEiLCByZXNwKTsKICAgICAgY3R4LmNvbW1pdCgic2V0TG9hZGluZyIsIGZhbHNlKTsKICAgICAgaWYgKHJlc3AuZmF2aWNvbikgewogICAgICAgIC8vIDxsaW5rIHJlbD0ic2hvcnRjdXQgaWNvbiAiIHR5cGU9ImltYWdlcy94LWljb24iIGhyZWY9Ii4vZmF2aWNvbi5pY28iPgogICAgICAgIGxldCBsaW5rID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcigibGlua1tyZWw9J3Nob3J0Y3V0IGljb24nXSIpOwogICAgICAgIGlmIChsaW5rKSB7CiAgICAgICAgICByZXR1cm47CiAgICAgICAgfQogICAgICAgIGxpbmsgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJsaW5rIik7CiAgICAgICAgbGluay5yZWwgPSAic2hvcnRjdXQgaWNvbiI7CiAgICAgICAgbGluay50eXBlID0gImltYWdlcy94LWljb24iOwogICAgICAgIGxpbmsuaHJlZiA9IHJlc3AuZmF2aWNvbjsKICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCJoZWFkIikuYXBwZW5kQ2hpbGQobGluayk7CiAgICAgIH0KICAgICAgaWYgKHJlc3Auc2l0ZVRpdGxlKSB7CiAgICAgICAgdGl0bGVDb250cm9sbGVyLnNldFNpdGVUaXRsZShyZXNwLnNpdGVUaXRsZSk7CiAgICAgIH0KICAgIH0KICB9Cn07"},{"version":3,"names":["getSetting","titleController","namespaced","state","loading","data","mutations","setLoading","payload","setData","actions","fetchSetting","ctx","commit","resp","favicon","link","document","querySelector","createElement","rel","type","href","appendChild","siteTitle","setSiteTitle"],"sources":["D:/work/myself/DuYi/前端 level one/vue从入门到实战/05.搭建工程/my-site/src/store/setting.js"],"sourcesContent":["import { getSetting } from \"@/api/setting\";\r\nimport { titleController } from \"../utils\";\r\nexport default {\r\n  namespaced: true,\r\n  state: {\r\n    loading: false,\r\n    data: null,\r\n  },\r\n  mutations: {\r\n    setLoading(state, payload) {\r\n      state.loading = payload;\r\n    },\r\n    setData(state, payload) {\r\n      state.data = payload;\r\n    },\r\n  },\r\n  actions: {\r\n    async fetchSetting(ctx) {\r\n      ctx.commit(\"setLoading\", true);\r\n      const resp = await getSetting();\r\n      ctx.commit(\"setData\", resp);\r\n      ctx.commit(\"setLoading\", false);\r\n      if (resp.favicon) {\r\n        // <link rel=\"shortcut icon \" type=\"images/x-icon\" href=\"./favicon.ico\">\r\n        let link = document.querySelector(\"link[rel='shortcut icon']\");\r\n        if (link) {\r\n          return;\r\n        }\r\n        link = document.createElement(\"link\");\r\n        link.rel = \"shortcut icon\";\r\n        link.type = \"images/x-icon\";\r\n        link.href = resp.favicon;\r\n        document.querySelector(\"head\").appendChild(link);\r\n      }\r\n      if (resp.siteTitle) {\r\n        titleController.setSiteTitle(resp.siteTitle);\r\n      }\r\n    },\r\n  },\r\n};\r\n"],"mappings":"AAAA,SAASA,UAAU,QAAQ,eAAe;AAC1C,SAASC,eAAe,QAAQ,UAAU;AAC1C,eAAe;EACbC,UAAU,EAAE,IAAI;EAChBC,KAAK,EAAE;IACLC,OAAO,EAAE,KAAK;IACdC,IAAI,EAAE;EACR,CAAC;EACDC,SAAS,EAAE;IACTC,UAAU,CAACJ,KAAK,EAAEK,OAAO,EAAE;MACzBL,KAAK,CAACC,OAAO,GAAGI,OAAO;IACzB,CAAC;IACDC,OAAO,CAACN,KAAK,EAAEK,OAAO,EAAE;MACtBL,KAAK,CAACE,IAAI,GAAGG,OAAO;IACtB;EACF,CAAC;EACDE,OAAO,EAAE;IACP,MAAMC,YAAY,CAACC,GAAG,EAAE;MACtBA,GAAG,CAACC,MAAM,CAAC,YAAY,EAAE,IAAI,CAAC;MAC9B,MAAMC,IAAI,GAAG,MAAMd,UAAU,EAAE;MAC/BY,GAAG,CAACC,MAAM,CAAC,SAAS,EAAEC,IAAI,CAAC;MAC3BF,GAAG,CAACC,MAAM,CAAC,YAAY,EAAE,KAAK,CAAC;MAC/B,IAAIC,IAAI,CAACC,OAAO,EAAE;QAChB;QACA,IAAIC,IAAI,GAAGC,QAAQ,CAACC,aAAa,CAAC,2BAA2B,CAAC;QAC9D,IAAIF,IAAI,EAAE;UACR;QACF;QACAA,IAAI,GAAGC,QAAQ,CAACE,aAAa,CAAC,MAAM,CAAC;QACrCH,IAAI,CAACI,GAAG,GAAG,eAAe;QAC1BJ,IAAI,CAACK,IAAI,GAAG,eAAe;QAC3BL,IAAI,CAACM,IAAI,GAAGR,IAAI,CAACC,OAAO;QACxBE,QAAQ,CAACC,aAAa,CAAC,MAAM,CAAC,CAACK,WAAW,CAACP,IAAI,CAAC;MAClD;MACA,IAAIF,IAAI,CAACU,SAAS,EAAE;QAClBvB,eAAe,CAACwB,YAAY,CAACX,IAAI,CAACU,SAAS,CAAC;MAC9C;IACF;EACF;AACF,CAAC"}]}