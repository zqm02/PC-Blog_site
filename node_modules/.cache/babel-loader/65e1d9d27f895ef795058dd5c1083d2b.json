{"remainingRequest":"D:\\work\\myself\\DuYi\\前端 level one\\vue从入门到实战\\05.搭建工程\\my-site\\node_modules\\babel-loader\\lib\\index.js!D:\\work\\myself\\DuYi\\前端 level one\\vue从入门到实战\\05.搭建工程\\my-site\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!D:\\work\\myself\\DuYi\\前端 level one\\vue从入门到实战\\05.搭建工程\\my-site\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\work\\myself\\DuYi\\前端 level one\\vue从入门到实战\\05.搭建工程\\my-site\\src\\views\\Home\\Carouselitem.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\work\\myself\\DuYi\\前端 level one\\vue从入门到实战\\05.搭建工程\\my-site\\src\\views\\Home\\Carouselitem.vue","mtime":1677026553289},{"path":"D:\\work\\myself\\DuYi\\前端 level one\\vue从入门到实战\\05.搭建工程\\my-site\\babel.config.js","mtime":1672384161687},{"path":"D:\\work\\myself\\DuYi\\前端 level one\\vue从入门到实战\\05.搭建工程\\my-site\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\work\\myself\\DuYi\\前端 level one\\vue从入门到实战\\05.搭建工程\\my-site\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"D:\\work\\myself\\DuYi\\前端 level one\\vue从入门到实战\\05.搭建工程\\my-site\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\work\\myself\\DuYi\\前端 level one\\vue从入门到实战\\05.搭建工程\\my-site\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IEltYWdlTG9hZGVyIGZyb20gIkAvY29tcG9uZW50cy9JbWFnZUxvYWRlciI7CmV4cG9ydCBkZWZhdWx0IHsKICBwcm9wczogWyJjYXJvdXNlbCJdLAogIGNvbXBvbmVudHM6IHsKICAgIEltYWdlTG9hZGVyCiAgfSwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgdGl0bGVXaWR0aDogMCwKICAgICAgZGVzY1dpZHRoOiAwLAogICAgICBjb250YWluZXJTaXplOiBudWxsLAogICAgICAvLyDlpJblsYLlrrnlmajnmoTlsLrlr7gKICAgICAgaW5uZXJTaXplOiBudWxsLAogICAgICAvLyDph4zlsYLlm77niYfnmoTlsLrlr7gKICAgICAgbW91c2VYOiAwLAogICAgICAvLyDpvKDmoIfnmoTmqKrlnZDmoIcKICAgICAgbW91c2VZOiAwIC8vIOm8oOagh+eahOe6teWdkOaghwogICAgfTsKICB9LAoKICBjb21wdXRlZDogewogICAgLy/lvpfliLDlm77niYflnZDmoIcKICAgIGltYWdlUG9zaXRpb24oKSB7CiAgICAgIGlmICghdGhpcy5pbm5lclNpemUgfHwgIXRoaXMuY29udGFpbmVyU2l6ZSkgewogICAgICAgIHJldHVybjsKICAgICAgfQogICAgICBjb25zdCBleHRyYVdpZHRoID0gdGhpcy5pbm5lclNpemUud2lkdGggLSB0aGlzLmNvbnRhaW5lclNpemUud2lkdGg7IC8vIOWkmuWHuueahOWuveW6pgogICAgICBjb25zdCBleHRyYUhlaWdodCA9IHRoaXMuaW5uZXJTaXplLmhlaWdodCAtIHRoaXMuY29udGFpbmVyU2l6ZS5oZWlnaHQ7IC8v5aSa5Ye655qE6auY5bqmCiAgICAgIGNvbnN0IGxlZnQgPSAtZXh0cmFXaWR0aCAvIHRoaXMuY29udGFpbmVyU2l6ZS53aWR0aCAqIHRoaXMubW91c2VYOwogICAgICBjb25zdCB0b3AgPSAtZXh0cmFIZWlnaHQgLyB0aGlzLmNvbnRhaW5lclNpemUuaGVpZ2h0ICogdGhpcy5tb3VzZVk7CiAgICAgIHJldHVybiB7CiAgICAgICAgdHJhbnNmb3JtOiBgdHJhbnNsYXRlKCR7bGVmdH1weCwgJHt0b3B9cHgpYAogICAgICB9OwogICAgfSwKICAgIGNlbnRlcigpIHsKICAgICAgcmV0dXJuIHsKICAgICAgICB4OiB0aGlzLmNvbnRhaW5lclNpemUud2lkdGggLyAyLAogICAgICAgIHk6IHRoaXMuY29udGFpbmVyU2l6ZS5oZWlnaHQgLyAyCiAgICAgIH07CiAgICB9CiAgfSwKICBtb3VudGVkKCkgewogICAgdGhpcy50aXRsZVdpZHRoID0gdGhpcy4kcmVmcy50aXRsZS5jbGllbnRXaWR0aDsKICAgIHRoaXMuZGVzY1dpZHRoID0gdGhpcy4kcmVmcy5kZXNjLmNsaWVudFdpZHRoOwogICAgdGhpcy5zZXRTaXplKCk7CiAgICB0aGlzLm1vdXNlWCA9IHRoaXMuY2VudGVyLng7CiAgICB0aGlzLm1vdXNlWSA9IHRoaXMuY2VudGVyLnk7CiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigicmVzaXplIiwgdGhpcy5zZXRTaXplKTsKICB9LAogIGRlc3Ryb3llZCgpIHsKICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCJyZXNpemUiLCB0aGlzLnNldFNpemUpOwogIH0sCiAgbWV0aG9kczogewogICAgLy8g6LCD55So6K+l5pa55rOV77yM5pi+56S65paH5a2XCiAgICBzaG93V29yZHMoKSB7CiAgICAgIHRoaXMuJHJlZnMudGl0bGUuc3R5bGUub3BhY2l0eSA9IDE7CiAgICAgIHRoaXMuJHJlZnMudGl0bGUuc3R5bGUud2lkdGggPSAwOwogICAgICAvLyDlvLrliLborqnmtY/op4jlmajmuLLmn5PkuIDmrKEKICAgICAgdGhpcy4kcmVmcy50aXRsZS5jbGllbnRXaWR0aDsgLy8gcmVmbG93CiAgICAgIHRoaXMuJHJlZnMudGl0bGUuc3R5bGUudHJhbnNpdGlvbiA9ICIxcyI7CiAgICAgIHRoaXMuJHJlZnMudGl0bGUuc3R5bGUud2lkdGggPSB0aGlzLnRpdGxlV2lkdGggKyAicHgiOwoKICAgICAgLy8g5o+P6L+w5Lmf5piv5LiA5qC3CiAgICAgIHRoaXMuJHJlZnMuZGVzYy5zdHlsZS5vcGFjaXR5ID0gMTsKICAgICAgdGhpcy4kcmVmcy5kZXNjLnN0eWxlLndpZHRoID0gMDsKICAgICAgLy8g5by65Yi26K6p5rWP6KeI5Zmo5riy5p+T5LiA5qyhCiAgICAgIHRoaXMuJHJlZnMuZGVzYy5jbGllbnRXaWR0aDsgLy8gcmVmbG93CiAgICAgIHRoaXMuJHJlZnMuZGVzYy5zdHlsZS50cmFuc2l0aW9uID0gIjJzIDFzIjsKICAgICAgdGhpcy4kcmVmcy5kZXNjLnN0eWxlLndpZHRoID0gdGhpcy5kZXNjV2lkdGggKyAicHgiOwogICAgfSwKICAgIHNldFNpemUoKSB7CiAgICAgIHRoaXMuY29udGFpbmVyU2l6ZSA9IHsKICAgICAgICB3aWR0aDogdGhpcy4kcmVmcy5jb250YWluZXIuY2xpZW50V2lkdGgsCiAgICAgICAgaGVpZ2h0OiB0aGlzLiRyZWZzLmNvbnRhaW5lci5jbGllbnRIZWlnaHQKICAgICAgfTsKICAgICAgdGhpcy5pbm5lclNpemUgPSB7CiAgICAgICAgd2lkdGg6IHRoaXMuJHJlZnMuaW1hZ2UuY2xpZW50V2lkdGgsCiAgICAgICAgaGVpZ2h0OiB0aGlzLiRyZWZzLmltYWdlLmNsaWVudEhlaWdodAogICAgICB9OwogICAgfSwKICAgIGhhbmRsZU1vdXNlTW92ZShlKSB7CiAgICAgIGNvbnN0IHJlY3QgPSB0aGlzLiRyZWZzLmNvbnRhaW5lci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTsKICAgICAgdGhpcy5tb3VzZVggPSBlLmNsaWVudFggLSByZWN0LmxlZnQ7CiAgICAgIHRoaXMubW91c2VZID0gZS5jbGllbnRZIC0gcmVjdC50b3A7CiAgICB9LAogICAgaGFuZGxlTW91c2VMZWF2ZSgpIHsKICAgICAgdGhpcy5tb3VzZVggPSB0aGlzLmNlbnRlci54OwogICAgICB0aGlzLm1vdXNlWSA9IHRoaXMuY2VudGVyLnk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"mappings":"AAoBA;AACA;EACAA;EACAC;IACAC;EACA;EACAC;IACA;MACAC;MACAC;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;IACA;EACA;;EACAC;IACA;IACAC;MACA;QACA;MACA;MACA;MACA;MACA;MACA;MACA;QACAC;MACA;IACA;IACAC;MACA;QACAC;QACAC;MACA;IACA;EACA;EACAC;IACA;IACA;IACA;IACA;IACA;IACAC;EACA;EACAC;IACAD;EACA;EACAE;IACA;IACAC;MACA;MACA;MACA;MACA;MACA;MACA;;MAEA;MACA;MACA;MACA;MACA;MACA;MACA;IACA;IACAC;MACA;QACAC;QACAC;MACA;MAEA;QACAD;QACAC;MACA;IACA;IACAC;MACA;MACA;MACA;IACA;IACAC;MACA;MACA;IACA;EACA;AACA","names":["props","components","ImageLoader","data","titleWidth","descWidth","containerSize","innerSize","mouseX","mouseY","computed","imagePosition","transform","center","x","y","mounted","window","destroyed","methods","showWords","setSize","width","height","handleMouseMove","handleMouseLeave"],"sourceRoot":"src/views/Home","sources":["Carouselitem.vue"],"sourcesContent":["<template>\r\n  <div\r\n    class=\"carousel-item-container\"\r\n    ref=\"container\"\r\n    @mousemove=\"handleMouseMove\"\r\n    @mouseleave=\"handleMouseLeave\"\r\n  >\r\n    <div class=\"carousel-img\" ref=\"image\" :style=\"imagePosition\">\r\n      <ImageLoader\r\n        @load=\"this.showWords\"\r\n        :src=\"carousel.bigImg\"\r\n        :placeholder=\"carousel.midImg\"\r\n      />\r\n    </div>\r\n    <div class=\"title\" ref=\"title\">{{ carousel.title }}</div>\r\n    <div class=\"desc\" ref=\"desc\">{{ carousel.description }}</div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport ImageLoader from \"@/components/ImageLoader\";\r\nexport default {\r\n  props: [\"carousel\"],\r\n  components: {\r\n    ImageLoader,\r\n  },\r\n  data() {\r\n    return {\r\n      titleWidth: 0,\r\n      descWidth: 0,\r\n      containerSize: null, // 外层容器的尺寸\r\n      innerSize: null, // 里层图片的尺寸\r\n      mouseX: 0, // 鼠标的横坐标\r\n      mouseY: 0, // 鼠标的纵坐标\r\n    };\r\n  },\r\n  computed: {\r\n    //得到图片坐标\r\n    imagePosition() {\r\n      if (!this.innerSize || !this.containerSize) {\r\n        return;\r\n      }\r\n      const extraWidth = this.innerSize.width - this.containerSize.width; // 多出的宽度\r\n      const extraHeight = this.innerSize.height - this.containerSize.height; //多出的高度\r\n      const left = (-extraWidth / this.containerSize.width) * this.mouseX;\r\n      const top = (-extraHeight / this.containerSize.height) * this.mouseY;\r\n      return {\r\n        transform: `translate(${left}px, ${top}px)`,\r\n      };\r\n    },\r\n    center() {\r\n      return {\r\n        x: this.containerSize.width / 2,\r\n        y: this.containerSize.height / 2,\r\n      };\r\n    },\r\n  },\r\n  mounted() {\r\n    this.titleWidth = this.$refs.title.clientWidth;\r\n    this.descWidth = this.$refs.desc.clientWidth;\r\n    this.setSize();\r\n    this.mouseX = this.center.x;\r\n    this.mouseY = this.center.y;\r\n    window.addEventListener(\"resize\", this.setSize);\r\n  },\r\n  destroyed() {\r\n    window.removeEventListener(\"resize\", this.setSize);\r\n  },\r\n  methods: {\r\n    // 调用该方法，显示文字\r\n    showWords() {\r\n      this.$refs.title.style.opacity = 1;\r\n      this.$refs.title.style.width = 0;\r\n      // 强制让浏览器渲染一次\r\n      this.$refs.title.clientWidth; // reflow\r\n      this.$refs.title.style.transition = \"1s\";\r\n      this.$refs.title.style.width = this.titleWidth + \"px\";\r\n\r\n      // 描述也是一样\r\n      this.$refs.desc.style.opacity = 1;\r\n      this.$refs.desc.style.width = 0;\r\n      // 强制让浏览器渲染一次\r\n      this.$refs.desc.clientWidth; // reflow\r\n      this.$refs.desc.style.transition = \"2s 1s\";\r\n      this.$refs.desc.style.width = this.descWidth + \"px\";\r\n    },\r\n    setSize() {\r\n      this.containerSize = {\r\n        width: this.$refs.container.clientWidth,\r\n        height: this.$refs.container.clientHeight,\r\n      };\r\n\r\n      this.innerSize = {\r\n        width: this.$refs.image.clientWidth,\r\n        height: this.$refs.image.clientHeight,\r\n      };\r\n    },\r\n    handleMouseMove(e) {\r\n      const rect = this.$refs.container.getBoundingClientRect();\r\n      this.mouseX = e.clientX - rect.left;\r\n      this.mouseY = e.clientY - rect.top;\r\n    },\r\n    handleMouseLeave() {\r\n      this.mouseX = this.center.x;\r\n      this.mouseY = this.center.y;\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n@import \"~@/styles/var.less\";\r\n.carousel-item-container {\r\n  // background: @dark;\r\n  width: 100%;\r\n  height: 100%;\r\n  color: #fff;\r\n  position: relative;\r\n  overflow: hidden;\r\n}\r\n.carousel-img {\r\n  width: 110%;\r\n  height: 110%;\r\n  position: absolute;\r\n  left: 0;\r\n  top: 0;\r\n  transition: 0.3s;\r\n}\r\n\r\n.title,\r\n.desc {\r\n  position: absolute;\r\n  letter-spacing: 3px;\r\n  left: 30px;\r\n  color: #fff;\r\n  text-shadow: 1px 0 0 rgba(0, 0, 0, 0.5), -1px 0 0 rgba(0, 0, 0, 0.5),\r\n    0 1px 0 rgba(0, 0, 0, 0.5), 0 -1px 0 rgba(0, 0, 0, 0.5);\r\n  white-space: nowrap;\r\n  overflow: hidden;\r\n  opacity: 0;\r\n}\r\n.title {\r\n  top: calc(50% - 40px);\r\n  font-size: 2em;\r\n}\r\n.desc {\r\n  top: calc(50% + 20px);\r\n  font-size: 1.2em;\r\n  color: lighten(@gray, 20%);\r\n}\r\n</style>\r\n"]}]}